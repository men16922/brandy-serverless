# AI 브랜딩 챗봇 프로젝트 이해 가이드 📚

## 🎯 이 프로젝트가 하는 일

**간단히 말하면**: 사업자가 업종, 지역, 규모만 입력하면 AI가 자동으로 **상호명, 간판 디자인, 인테리어 추천, PDF 보고서**까지 만들어주는 시스템입니다.

### 예시 시나리오
```
입력: "서울 강남에서 소규모 카페를 운영하려고 합니다"
↓
AI가 자동으로 생성:
1. 상호명 3개 후보 (예: "카페 모닝글로우", "브루잉 스테이션", "원두향")
2. 간판 디자인 3개 (DALL-E, SDXL, Gemini로 각각 생성)
3. 인테리어 추천 3개 (간판 스타일에 맞춰)
4. 종합 브랜딩 PDF 보고서
```

## 🏗️ 시스템 구조 (쉽게 설명)

### 1. 전체 아키텍처
```
사용자 입력 → AI 에이전트들이 순서대로 작업 → 최종 결과물
```

### 2. 6개의 AI 에이전트 (일꾼들)
각각 전문 분야가 있는 AI 일꾼들이 순서대로 작업합니다:

1. **Supervisor (감독관)** 
   - 전체 작업 진행 상황 관리
   - 다른 에이전트들 조정

2. **Product Insight (비즈니스 분석가)**
   - 업종/지역/규모 분석
   - 시장 동향 파악

3. **Market Analyst (시장 분석가)**
   - 경쟁사 분석
   - 시장 기회 발굴

4. **Reporter (네이밍 전문가)**
   - 상호명 3개 후보 생성
   - 발음 점수, 검색 점수 계산

5. **Signboard (디자인 전문가)**
   - 간판 디자인 3개 생성 (DALL-E, SDXL, Gemini 동시 사용)

6. **Interior (인테리어 전문가)**
   - 간판 스타일에 맞는 인테리어 3개 추천

7. **Report Generator (보고서 작성자)**
   - 모든 결과를 종합한 PDF 보고서 생성

### 3. 작업 흐름 (5단계)
```
1단계: 비즈니스 분석 (Product Insight + Market Analyst)
   ↓
2단계: 상호명 제안 (Reporter)
   ↓  
3단계: 간판 디자인 (Signboard) - 3개 AI가 동시에 작업
   ↓
4단계: 인테리어 추천 (Interior)
   ↓
5단계: PDF 보고서 (Report Generator)
```

## 💻 기술 구조 (개발자용)

### 1. AWS 서버리스 아키텍처
- **Lambda**: 각 AI 에이전트가 Lambda 함수로 구현
- **API Gateway**: 사용자 요청 받는 입구
- **Step Functions**: 에이전트들 간의 작업 순서 관리
- **DynamoDB**: 세션 데이터 저장 (진행 상황, 결과물)
- **S3**: 생성된 이미지, PDF 파일 저장

### 2. 로컬 개발 환경
실제 AWS 서비스 대신 로컬에서 테스트할 수 있도록:
- **DynamoDB Local**: 실제 DynamoDB 대신
- **MinIO**: 실제 S3 대신  
- **Chroma**: 벡터 데이터베이스
- **Docker Compose**: 위 서비스들을 한 번에 실행

## 🛠️ 개발 환경 설정 (실제 사용법)

### 1. 처음 설정 (한 번만)
```bash
# 1. 프로젝트 다운로드
git clone <repository>
cd brandy-serverless

# 2. Python 가상환경 생성
python3 -m venv venv
source venv/bin/activate

# 3. 개발환경 활성화 (의존성 자동 설치)
./scripts/activate-dev.sh
```

### 2. 일상적인 개발 작업
```bash
# 환경 시작 (Docker 서비스들 시작)
./scripts/dev.sh setup

# 모든 것이 잘 작동하는지 확인
./scripts/dev.sh validate

# 테스트 실행 (실제 데이터베이스 사용)
./scripts/dev.sh test

# API 서버 시작 (로컬에서 테스트용)
./scripts/dev.sh api

# 작업 끝나면 정리
./scripts/dev.sh cleanup
```

### 3. 웹 인터페이스 확인
개발 중에 데이터를 눈으로 확인할 수 있는 관리 도구들:
- **DynamoDB Admin**: http://localhost:8002 (데이터베이스 내용 확인)
- **MinIO Console**: http://localhost:9001 (파일 저장소 확인)
- **API 테스트**: http://localhost:3000 (실제 API 호출)

## 🧪 테스트 방식 (NO MOCKS 정책)

### 왜 Mock을 사용하지 않나요?
- **Mock**: 가짜 데이터베이스, 가짜 파일 저장소 사용
- **우리 방식**: 실제와 똑같은 데이터베이스, 파일 저장소 사용 (단지 로컬에서)

### 테스트 예시
```python
# ❌ 다른 프로젝트들이 하는 방식 (Mock 사용)
mock_db = Mock()
mock_db.put_item.return_value = {"success": True}

# ✅ 우리 프로젝트 방식 (실제 DB 사용)
dynamodb = boto3.client('dynamodb', endpoint_url='http://localhost:8000')
dynamodb.put_item(TableName='sessions', Item=real_data)
```

### 테스트 결과
- **29개 테스트 모두 통과**
- **실제 데이터베이스에 데이터 저장/조회**
- **실제 파일 업로드/다운로드**
- **실제 서비스 간 통신**

## 📁 프로젝트 파일 구조

```
brandy-serverless/
├── 📄 README.md                    # 프로젝트 소개
├── 📄 template.yaml                # AWS 리소스 정의 (SAM)
├── 📄 samconfig.toml               # 환경별 설정
├── 📄 docker-compose.local.yml     # 로컬 개발 서비스들
├── 📄 requirements.txt             # Python 의존성
│
├── 📁 src/
│   ├── 📁 lambda/
│   │   ├── 📁 agents/              # AI 에이전트들
│   │   │   ├── 📁 supervisor/      # 감독관
│   │   │   ├── 📁 product-insight/ # 비즈니스 분석
│   │   │   ├── 📁 market-analyst/  # 시장 분석
│   │   │   ├── 📁 reporter/        # 상호명 생성
│   │   │   ├── 📁 signboard/       # 간판 디자인
│   │   │   ├── 📁 interior/        # 인테리어 추천
│   │   │   └── 📁 report-generator/ # PDF 생성
│   │   └── 📁 shared/              # 공통 코드
│   └── 📁 streamlit/               # 웹 인터페이스
│
├── 📁 scripts/                     # 개발 도구들
│   ├── 📄 dev.sh                  # 🌟 메인 개발 스크립트
│   ├── 📄 activate-dev.sh         # 환경 활성화
│   ├── 📄 setup-local.sh          # 로컬 서비스 시작
│   ├── 📄 validate-environment.py  # 환경 검증
│   └── 📄 sam-*.sh                # AWS 배포 관련
│
├── 📁 tests/
│   └── 📁 integration/             # 통합 테스트 (실제 DB 사용)
│
└── 📁 statemachine/                # 워크플로 정의
```

## 🚀 실제 사용 시나리오

### 1. 개발자가 새 기능 추가하는 경우
```bash
# 1. 환경 시작
./scripts/dev.sh setup

# 2. 코드 수정
# (에디터에서 코드 편집)

# 3. 테스트로 확인
./scripts/dev.sh test

# 4. 로컬에서 실행해보기
./scripts/dev.sh api
# 브라우저에서 http://localhost:3000 접속

# 5. 작업 완료 후 정리
./scripts/dev.sh cleanup
```

### 2. 새로운 개발자가 프로젝트에 참여하는 경우
```bash
# 1. 저장소 클론
git clone <repository>
cd brandy-serverless

# 2. 환경 설정 (한 번만)
python3 -m venv venv
source venv/bin/activate
./scripts/activate-dev.sh

# 3. 모든 것이 잘 작동하는지 확인
./scripts/dev.sh setup
./scripts/dev.sh validate
./scripts/dev.sh test

# 완료! 이제 개발 가능
```

### 3. AWS에 실제 배포하는 경우
```bash
# 1. AWS 자격증명 설정
aws configure

# 2. 개발 환경에 배포
./scripts/sam-deploy.sh dev

# 3. 실제 AWS에서 동작 확인
# (배포 완료 후 나오는 API URL로 테스트)
```

## 🔍 핵심 특징 요약

### 1. **완전 자동화된 브랜딩**
- 사용자는 업종/지역/규모만 입력
- AI가 상호명부터 인테리어까지 모든 것을 자동 생성

### 2. **실제 환경과 동일한 테스트**
- Mock 사용 안함
- 로컬에서도 실제 데이터베이스, 파일 저장소 사용
- 신뢰할 수 있는 테스트 결과

### 3. **개발자 친화적**
- 복잡한 설정을 단순한 명령어로 통합
- 시각적 관리 도구 제공
- 자동 환경 검증

### 4. **확장 가능한 구조**
- 각 AI 에이전트가 독립적
- 새로운 에이전트 쉽게 추가 가능
- AWS 서버리스로 자동 확장

## ❓ 자주 묻는 질문

**Q: 왜 이렇게 복잡하게 만들었나요?**
A: 실제 비즈니스에서는 여러 AI가 협력해야 좋은 결과가 나옵니다. 각 전문 분야별로 AI를 나누어 더 정확한 결과를 얻습니다.

**Q: 로컬에서 테스트할 때 AWS 비용이 발생하나요?**
A: 아니요. 로컬 개발 환경은 Docker로 실행되어 AWS 비용이 전혀 발생하지 않습니다.

**Q: 새로운 AI 에이전트를 추가하려면?**
A: `src/lambda/agents/` 폴더에 새 폴더를 만들고, `template.yaml`에 Lambda 함수를 추가하면 됩니다.

**Q: 실제 서비스로 배포하려면?**
A: `./scripts/sam-deploy.sh prod` 명령어로 AWS에 배포할 수 있습니다.

---

이제 프로젝트가 무엇을 하는지, 어떻게 구성되어 있는지, 어떻게 사용하는지 이해가 되셨나요? 추가로 궁금한 부분이 있으시면 언제든 물어보세요! 😊